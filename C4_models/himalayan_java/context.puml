@startuml CafeERP_Context
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml


' Tags for styling
AddElementTag("internal", $bgColor="#e6f7ff", $borderColor="#1890ff", $fontColor="#000000")
AddElementTag("external", $bgColor="#fff7e6", $borderColor="#fa8c16", $fontColor="#000000")
AddRelTag("sync", $textColor="#333333")
AddRelTag("async", $textColor="#333333", $lineStyle=DashedLine())


Person(outlet_mgr, "Outlet Manager", "Creates requisitions, receives goods", "internal")
Person(hq_planner, "HQ Supply Planner", "Approves requisitions, plans supply", "internal")
Person(warehouse_op, "Warehouse Operator", "Picks, packs, ships", "internal")
Person(quality_lead, "Quality Lead", "Runs QC at incoming/production/dispatch", "internal")
Person(maint_tech, "Maintenance Tech", "Executes PM/CM tasks", "internal")


System_Boundary(cafe_erp, "Cafe ERP â€“ Supply Chain on Odoo") {
System(cafe_odoo, "Odoo Supply Chain Suite", "Inventory, Purchase, Manufacturing, PLM, Quality, Maintenance + custom cafe modules", "internal")
}


System_Ext(email_gateway, "Email/SMS Gateway", "Notifications, approvals", "external")
System_Ext(vendors, "Supplier Systems", "Receive POs, send ASNs/invoices", "external")
System_Ext(doc_store, "Document Store (S3/Drive)", "Spec sheets, SOPs, QC docs", "external")


Rel(outlet_mgr, cafe_odoo, "Submit requisitions, confirm receipts", "Web/Mobile UI", "sync")
Rel(hq_planner, cafe_odoo, "Approve, plan, monitor", "Web UI", "sync")
Rel(warehouse_op, cafe_odoo, "Pick/Pack/Ship", "Barcode App", "sync")
Rel(quality_lead, cafe_odoo, "Quality checks & CAPA", "QC UI", "sync")
Rel(maint_tech, cafe_odoo, "PM/CM work orders", "Maintenance UI", "sync")


Rel(cafe_odoo, email_gateway, "Send notifications/approvals", "SMTP/HTTP", "async")
Rel(cafe_odoo, vendors, "Send POs / receive ASNs", "Email/EDI/API", "async")
Rel(cafe_odoo, doc_store, "Store attachments", "API", "sync")


SHOW_LEGEND()
@enduml
<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>

    <!-- List View -->
    <record id="view_coffee_outlet_list" model="ir.ui.view">
      <field name="name">coffee.outlet.list</field>
      <field name="model">coffee.outlet</field>
      <field name="type">list</field>
      <field name="arch" type="xml">
        <list create="1" edit="1" delete="1">
          <field name="name"/>
          <field name="code"/>
          <field name="location"/>
          <field name="manager"/>
          <field name="phone"/>
          <field name="email"/>
          <field name="state"/>
          <field name="outlet_type"/>
        </list>
      </field>
    </record> 


    <!-- Form View -->
     <record id="view_coffee_outlet_form" model="ir.ui.view">
      <field name="name">coffee.outlet.form</field>
      <field name="model">coffee.outlet</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Coffee Outlet">
          <sheet>
            <group>
              <field name="name"/>
              <!--<field name="address"/>-->
              <field name="code"/>
              <field name="location"/>
              <field name="manager"/>
              <field name="phone"/>
              <field name="email"/>
              <field name="state"/>
              <field name="outlet_type"/>
              <field name="customer_id"/>
              <field name="lead_id"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_res_partner_form_inherit_coffee" model="ir.ui.view">
     <field name="name">res.partner.form.inherit.coffee</field>
     <field name="model">res.partner</field>
     <field name="inherit_id" ref="base.view_partner_form"/>
     <field name="arch" type="xml">
         <notebook position="inside">
             <page string="Coffee Outlets">
                 <field name="coffee_outlet_ids">
                     <list>
                         <field name="name"/>
                         <field name="location"/>
                     </list>
                 </field>
             </page>
          </notebook>
      </field>
   </record>

    <record id="view_crm_lead_form_inherit_coffee" model="ir.ui.view">
      <field name="name">crm.lead.form.inherit.coffee</field>
      <field name="model">crm.lead</field>
      <field name="inherit_id" ref="crm.crm_lead_view_form"/>
      <field name="arch" type="xml">
        <field name="partner_id" position="after">
          <field name="coffee_outlet_id"/>
        </field>
      </field>
    </record>

      <!-- Extend Sale Order Form View -->
    <record id="sale_order_form_inherit_outlet" model="ir.ui.view">
      <field name="name">sale.order.form.inherit.outlet</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='partner_id']" position="after">
          <field name="outlet_id"/>
          <field name="service_type"/>
          <field name="payment_method_id"/>
        </xpath>
      </field>
    </record>

    <record id="view_invoice_form_inherit_outlet_payment" model="ir.ui.view">
      <field name="name">account.move.form.inherit.outlet.payment</field>
      <field name="model">account.move</field>
      <field name="inherit_id" ref="account.view_move_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='partner_id']" position="after">
         <field name="outlet_id"/>
          <field name="payment_method_id"/>
        </xpath>
      </field>
    </record>

    <record id="view_account_payment_form_inherit_outlet" model="ir.ui.view">
      <field name="name">account.payment.form.inherit.outlet</field>
      <field name="model">account.payment</field>
      <field name="inherit_id" ref="account.view_account_payment_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='partner_id']" position="after">
          <field name="outlet_id"/>
        </xpath>
      </field>
    </record>


    <!-- Menu Root -->
    <menuitem id="coffee_chain_root" name="Coffee Chain"/>

    <!-- Action Window -->
    <record id="action_coffee_outlet" model="ir.actions.act_window">
      <field name="name">Outlets</field>
      <field name="res_model">coffee.outlet</field>
      <field name="view_mode">list,form</field>
      <field name="view_id" ref="view_coffee_outlet_list"/>
    </record>

    <!-- Submenu -->
    <menuitem id="coffee_outlet_menu"
              name="Outlets"
              parent="coffee_chain_root"
              action="action_coffee_outlet"/>
  </data>
</odoo>

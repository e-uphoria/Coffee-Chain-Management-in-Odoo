<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <!-- CRM Help Root -->
        <menuitem id="coffee_crm_help_root"
                  name="Help"
                  parent="crm.crm_menu_root"
                  sequence="99"/>

        <!-- About CRM & Coffee Outlets -->
        <record id="view_coffee_crm_help_about" model="ir.ui.view">
            <field name="name">coffee.crm.help.about.form</field>
            <field name="model">coffee.crm.help</field>
            <field name="arch" type="xml">
                <form string="About CRM Integration" create="false" edit="false" delete="false">
                    <sheet>
                        <h2>CRM &amp; Coffee Outlets</h2>
                        <p>
                            The <b>Coffee Outlet</b> model is integrated with CRM.  
                            Every outlet can be linked to:
                        </p>
                        <ul>
                            <li>A <b>Customer</b> (<i>res.partner</i>) → so outlets belong to a customer</li>
                            <li>A <b>Lead/Opportunity</b> (<i>crm.lead</i>) → automatically created when a new outlet is added</li>
                        </ul>
                        <p>
                            This ensures sales teams can track opportunities directly from outlet creation.
                        </p>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_coffee_crm_help_about" model="ir.actions.act_window">
            <field name="name">About CRM Integration</field>
            <field name="res_model">coffee.crm.help</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_coffee_crm_help_about"/>
            <field name="target">current</field>
        </record>

        <menuitem id="menu_coffee_crm_help_about"
                  name="About CRM Integration"
                  parent="coffee_crm_help_root"
                  action="action_coffee_crm_help_about"/>

        <!-- How To Use -->
        <record id="view_coffee_crm_help_use" model="ir.ui.view">
            <field name="name">coffee.crm.help.use.form</field>
            <field name="model">coffee.crm.help</field>
            <field name="arch" type="xml">
                <form string="How to Use CRM with Outlets" create="false" edit="false" delete="false">
                    <sheet>
                        <h2>How to Use</h2>
                        <ol>
                            <li>Create a new <b>Coffee Outlet</b> under Coffee Chain → Outlets.</li>
                            <li>When you save, the system automatically creates a <b>CRM Opportunity</b>.</li>
                            <li>You can view the linked opportunity inside the CRM app.</li>
                            <li>Outlets can also be tied to existing customers (res.partner).</li>
                        </ol>
                        <p>
                            This workflow connects outlet operations with sales tracking in CRM.
                        </p>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_coffee_crm_help_use" model="ir.actions.act_window">
            <field name="name">How to Use</field>
            <field name="res_model">coffee.crm.help</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_coffee_crm_help_use"/>
            <field name="target">current</field>
        </record>

        <menuitem id="menu_coffee_crm_help_use"
                  name="How to Use"
                  parent="coffee_crm_help_root"
                  action="action_coffee_crm_help_use"/>

        <!-- C4 Diagram -->
        <record id="view_coffee_crm_help_c4" model="ir.ui.view">
            <field name="name">coffee.crm.help.c4.form</field>
            <field name="model">coffee.crm.help</field>
            <field name="arch" type="xml">
                <form string="CRM Integration Diagram" create="false" edit="false" delete="false">
                    <sheet>
                        <h2>CRM &amp; Outlet C4 Diagram</h2>
                        <p>The following diagram shows how the CRM app integrates with Outlets:</p>
                        <img src="/coffee_chain/static/src/img/coffee_crm_c4.png"
                             alt="CRM Integration C4 Diagram"
                             style="max-width:100%;"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_coffee_crm_help_c4" model="ir.actions.act_window">
            <field name="name">C4 Diagram</field>
            <field name="res_model">coffee.crm.help</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_coffee_crm_help_c4"/>
            <field name="target">current</field>
        </record>

        <menuitem id="menu_coffee_crm_help_c4"
                  name="C4 Diagram"
                  parent="coffee_crm_help_root"
                  action="action_coffee_crm_help_c4"/>

    </data>
</odoo>

<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions
    xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
    xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
    xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
    xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
    id="Definitions_Maintenance"
    targetNamespace="http://bpmn.io/schema/bpmn">

  <bpmn:process id="Maintenance_Process" name="Maintenance Process" isExecutable="true">

    <bpmn:startEvent id="StartEvent_ReportIssue" name="Issue Reported"/>
    <bpmn:task id="Task_ReviewRequest" name="Review Maintenance Request"/>
    <bpmn:exclusiveGateway id="Gateway_ApproveRequest" name="Approve Request?"/>
    <bpmn:task id="Task_CreateWorkOrder" name="Create Work Order"/>
    <bpmn:userTask id="UserTask_PerformRepair" name="Perform Repair"/>
    <bpmn:task id="Task_RecordCosts" name="Record Costs & Spare Parts"/>
    <bpmn:endEvent id="EndEvent_Completed" name="Maintenance Completed"/>
    <bpmn:endEvent id="EndEvent_Rejected" name="Request Rejected"/>

    <!-- Sequence Flows -->
    <bpmn:sequenceFlow id="flow_1" sourceRef="StartEvent_ReportIssue" targetRef="Task_ReviewRequest"/>
    <bpmn:sequenceFlow id="flow_2" sourceRef="Task_ReviewRequest" targetRef="Gateway_ApproveRequest"/>
    <bpmn:sequenceFlow id="flow_3" sourceRef="Gateway_ApproveRequest" targetRef="Task_CreateWorkOrder">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression"><![CDATA[approved]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="flow_4" sourceRef="Gateway_ApproveRequest" targetRef="EndEvent_Rejected">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression"><![CDATA[rejected]]></bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="flow_5" sourceRef="Task_CreateWorkOrder" targetRef="UserTask_PerformRepair"/>
    <bpmn:sequenceFlow id="flow_6" sourceRef="UserTask_PerformRepair" targetRef="Task_RecordCosts"/>
    <bpmn:sequenceFlow id="flow_7" sourceRef="Task_RecordCosts" targetRef="EndEvent_Completed"/>

  </bpmn:process>

  <!-- Diagram Interchange -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_Maintenance">
    <bpmndi:BPMNPlane id="BPMNPlane_Maintenance" bpmnElement="Maintenance_Process">

      <bpmndi:BPMNShape id="StartEvent_ReportIssue_di" bpmnElement="StartEvent_ReportIssue">
        <dc:Bounds x="100" y="150" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_ReviewRequest_di" bpmnElement="Task_ReviewRequest">
        <dc:Bounds x="180" y="130" width="120" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Gateway_ApproveRequest_di" bpmnElement="Gateway_ApproveRequest" isMarkerVisible="true">
        <dc:Bounds x="320" y="140" width="50" height="50"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_CreateWorkOrder_di" bpmnElement="Task_CreateWorkOrder">
        <dc:Bounds x="400" y="130" width="130" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="UserTask_PerformRepair_di" bpmnElement="UserTask_PerformRepair">
        <dc:Bounds x="560" y="130" width="140" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_RecordCosts_di" bpmnElement="Task_RecordCosts">
        <dc:Bounds x="720" y="130" width="140" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="EndEvent_Completed_di" bpmnElement="EndEvent_Completed">
        <dc:Bounds x="880" y="150" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="EndEvent_Rejected_di" bpmnElement="EndEvent_Rejected">
        <dc:Bounds x="400" y="220" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Flows -->
      <bpmndi:BPMNEdge id="flow_1_di" bpmnElement="flow_1">
        <di:waypoint x="136" y="168"/>
        <di:waypoint x="180" y="170"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_2_di" bpmnElement="flow_2">
        <di:waypoint x="300" y="170"/>
        <di:waypoint x="320" y="165"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_3_di" bpmnElement="flow_3">
        <di:waypoint x="370" y="165"/>
        <di:waypoint x="400" y="170"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_4_di" bpmnElement="flow_4">
        <di:waypoint x="345" y="190"/>
        <di:waypoint x="418" y="238"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_5_di" bpmnElement="flow_5">
        <di:waypoint x="530" y="170"/>
        <di:waypoint x="560" y="170"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_6_di" bpmnElement="flow_6">
        <di:waypoint x="700" y="170"/>
        <di:waypoint x="720" y="170"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="flow_7_di" bpmnElement="flow_7">
        <di:waypoint x="860" y="170"/>
        <di:waypoint x="880" y="168"/>
      </bpmndi:BPMNEdge>

    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
